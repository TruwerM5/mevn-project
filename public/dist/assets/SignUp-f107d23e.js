import{u as g,b,d as v,r as y,o as f,c as _,a as s,w as i,v as r,e as d,i as u,t as S,f as w,g as U}from"./index-d3e722ee.js";const k={class:"wrapper max-w-[500px] mx-auto bg-slate-200"},R=s("h1",null,"Sign Up",-1),V=["onSubmit"],B={class:"flex flex-col"},N=s("label",{for:"firstname"},"Firstname:",-1),T={class:"flex flex-col"},C=s("label",{for:"secondname"},"Secondname:",-1),D={class:"flex flex-col"},E=s("label",{for:"login"},"Login:",-1),M={class:"flex flex-col"},O=s("label",{for:"pass"},"Password:",-1),F=s("button",{type:"submit",class:"mx-auto block"},"Submit",-1),J={key:0,class:"text-rose-500"},Z={__name:"SignUp",setup(L){const m=g();b();const h=v();let o,n,a,l="";const p=y("");function x(){const c=JSON.stringify({login:o,pass:n,firstname:a,secondname:l});fetch("/api/signup",{method:"post",body:c,headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{e.token?(m.setToken(e.token),m.authZ().then(()=>{h.push({name:"users"})})):p.value=e.err}).catch(e=>{console.log("ERROR",e.message)})}return(c,t)=>(f(),_("div",k,[R,s("form",{method:"post",class:"form w-fit mx-auto",onSubmit:U(x,["prevent"])},[s("div",B,[N,i(s("input",{type:"text",name:"firstname",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>u(a)?a.value=e:a=e)},null,512),[[r,d(a)]])]),s("div",T,[C,i(s("input",{type:"text",name:"secondname",id:"secondname","onUpdate:modelValue":t[1]||(t[1]=e=>u(l)?l.value=e:l=e)},null,512),[[r,d(l)]])]),s("div",D,[E,i(s("input",{type:"text",name:"login",id:"login","onUpdate:modelValue":t[2]||(t[2]=e=>u(o)?o.value=e:o=e)},null,512),[[r,d(o)]])]),s("div",M,[O,i(s("input",{type:"password",name:"pass",id:"pass","onUpdate:modelValue":t[3]||(t[3]=e=>u(n)?n.value=e:n=e)},null,512),[[r,d(n)]])]),F,p.value?(f(),_("span",J,S(p.value),1)):w("",!0)],40,V)]))}};export{Z as default};
